{"ast":null,"code":"/**\r\n * Centralized API Configuration\r\n * \r\n * This is the single source of truth for all backend communication.\r\n * The backend URL is read from environment variables at build time.\r\n * UI components MUST NOT access this file directly.\r\n * \r\n * Usage: Import service files from ./pathfindingService.js instead.\r\n */\n\nconst API_BASE_URL = process.env.REACT_APP_API_URL;\n\n/**\r\n * Validates that the API URL is properly configured\r\n * @throws {Error} If REACT_APP_API_URL is not set\r\n */\nfunction validateApiUrl() {\n  if (!API_BASE_URL) {\n    throw new Error('API_BASE_URL is not configured. ' + 'Please set REACT_APP_API_URL environment variable.');\n  }\n}\n\n/**\r\n * Generic fetch wrapper for all API requests\r\n * Handles common error scenarios and response validation\r\n * \r\n * @param {string} endpoint - The API endpoint (e.g., '/api/cpp')\r\n * @param {Object} options - Fetch options (method, headers, body, etc.)\r\n * @returns {Promise<Object>} Parsed JSON response\r\n * @throws {Error} If request fails or response is invalid\r\n */\nasync function apiCall(endpoint, options = {}) {\n  validateApiUrl();\n  const url = `${API_BASE_URL}${endpoint}`;\n  const defaultHeaders = {\n    'Content-Type': 'application/json'\n  };\n  const finalOptions = {\n    ...options,\n    headers: {\n      ...defaultHeaders,\n      ...options.headers\n    }\n  };\n  try {\n    const response = await fetch(url, finalOptions);\n    if (!response.ok) {\n      throw new Error(`HTTP ${response.status}: ${response.statusText} from ${endpoint}`);\n    }\n    const data = await response.json();\n    return data;\n  } catch (error) {\n    // Re-throw with context for debugging\n    throw new Error(`API request failed for ${endpoint}: ${error.message}`);\n  }\n}\n\n/**\r\n * POST request helper\r\n * @param {string} endpoint - The API endpoint\r\n * @param {Object} body - Request body as JS object\r\n * @returns {Promise<Object>} API response\r\n */\nexport async function post(endpoint, body) {\n  return apiCall(endpoint, {\n    method: 'POST',\n    body: JSON.stringify(body)\n  });\n}\n\n/**\r\n * GET request helper\r\n * @param {string} endpoint - The API endpoint\r\n * @returns {Promise<Object>} API response\r\n */\nexport async function get(endpoint) {\n  return apiCall(endpoint, {\n    method: 'GET'\n  });\n}\nexport default {\n  post,\n  get\n};","map":{"version":3,"names":["API_BASE_URL","process","env","REACT_APP_API_URL","validateApiUrl","Error","apiCall","endpoint","options","url","defaultHeaders","finalOptions","headers","response","fetch","ok","status","statusText","data","json","error","message","post","body","method","JSON","stringify","get"],"sources":["C:/Users/dkpat/Documents/GitHub/Dijkstras-Algorithm/frontend/src/api/api.js"],"sourcesContent":["/**\r\n * Centralized API Configuration\r\n * \r\n * This is the single source of truth for all backend communication.\r\n * The backend URL is read from environment variables at build time.\r\n * UI components MUST NOT access this file directly.\r\n * \r\n * Usage: Import service files from ./pathfindingService.js instead.\r\n */\r\n\r\nconst API_BASE_URL = process.env.REACT_APP_API_URL;\r\n\r\n/**\r\n * Validates that the API URL is properly configured\r\n * @throws {Error} If REACT_APP_API_URL is not set\r\n */\r\nfunction validateApiUrl() {\r\n  if (!API_BASE_URL) {\r\n    throw new Error(\r\n      'API_BASE_URL is not configured. ' +\r\n      'Please set REACT_APP_API_URL environment variable.'\r\n    );\r\n  }\r\n}\r\n\r\n/**\r\n * Generic fetch wrapper for all API requests\r\n * Handles common error scenarios and response validation\r\n * \r\n * @param {string} endpoint - The API endpoint (e.g., '/api/cpp')\r\n * @param {Object} options - Fetch options (method, headers, body, etc.)\r\n * @returns {Promise<Object>} Parsed JSON response\r\n * @throws {Error} If request fails or response is invalid\r\n */\r\nasync function apiCall(endpoint, options = {}) {\r\n  validateApiUrl();\r\n\r\n  const url = `${API_BASE_URL}${endpoint}`;\r\n  const defaultHeaders = {\r\n    'Content-Type': 'application/json',\r\n  };\r\n\r\n  const finalOptions = {\r\n    ...options,\r\n    headers: {\r\n      ...defaultHeaders,\r\n      ...options.headers,\r\n    },\r\n  };\r\n\r\n  try {\r\n    const response = await fetch(url, finalOptions);\r\n\r\n    if (!response.ok) {\r\n      throw new Error(\r\n        `HTTP ${response.status}: ${response.statusText} from ${endpoint}`\r\n      );\r\n    }\r\n\r\n    const data = await response.json();\r\n    return data;\r\n  } catch (error) {\r\n    // Re-throw with context for debugging\r\n    throw new Error(\r\n      `API request failed for ${endpoint}: ${error.message}`\r\n    );\r\n  }\r\n}\r\n\r\n/**\r\n * POST request helper\r\n * @param {string} endpoint - The API endpoint\r\n * @param {Object} body - Request body as JS object\r\n * @returns {Promise<Object>} API response\r\n */\r\nexport async function post(endpoint, body) {\r\n  return apiCall(endpoint, {\r\n    method: 'POST',\r\n    body: JSON.stringify(body),\r\n  });\r\n}\r\n\r\n/**\r\n * GET request helper\r\n * @param {string} endpoint - The API endpoint\r\n * @returns {Promise<Object>} API response\r\n */\r\nexport async function get(endpoint) {\r\n  return apiCall(endpoint, {\r\n    method: 'GET',\r\n  });\r\n}\r\n\r\nexport default {\r\n  post,\r\n  get,\r\n};\r\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,MAAMA,YAAY,GAAGC,OAAO,CAACC,GAAG,CAACC,iBAAiB;;AAElD;AACA;AACA;AACA;AACA,SAASC,cAAcA,CAAA,EAAG;EACxB,IAAI,CAACJ,YAAY,EAAE;IACjB,MAAM,IAAIK,KAAK,CACb,kCAAkC,GAClC,oDACF,CAAC;EACH;AACF;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAeC,OAAOA,CAACC,QAAQ,EAAEC,OAAO,GAAG,CAAC,CAAC,EAAE;EAC7CJ,cAAc,CAAC,CAAC;EAEhB,MAAMK,GAAG,GAAG,GAAGT,YAAY,GAAGO,QAAQ,EAAE;EACxC,MAAMG,cAAc,GAAG;IACrB,cAAc,EAAE;EAClB,CAAC;EAED,MAAMC,YAAY,GAAG;IACnB,GAAGH,OAAO;IACVI,OAAO,EAAE;MACP,GAAGF,cAAc;MACjB,GAAGF,OAAO,CAACI;IACb;EACF,CAAC;EAED,IAAI;IACF,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAACL,GAAG,EAAEE,YAAY,CAAC;IAE/C,IAAI,CAACE,QAAQ,CAACE,EAAE,EAAE;MAChB,MAAM,IAAIV,KAAK,CACb,QAAQQ,QAAQ,CAACG,MAAM,KAAKH,QAAQ,CAACI,UAAU,SAASV,QAAQ,EAClE,CAAC;IACH;IAEA,MAAMW,IAAI,GAAG,MAAML,QAAQ,CAACM,IAAI,CAAC,CAAC;IAClC,OAAOD,IAAI;EACb,CAAC,CAAC,OAAOE,KAAK,EAAE;IACd;IACA,MAAM,IAAIf,KAAK,CACb,0BAA0BE,QAAQ,KAAKa,KAAK,CAACC,OAAO,EACtD,CAAC;EACH;AACF;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,eAAeC,IAAIA,CAACf,QAAQ,EAAEgB,IAAI,EAAE;EACzC,OAAOjB,OAAO,CAACC,QAAQ,EAAE;IACvBiB,MAAM,EAAE,MAAM;IACdD,IAAI,EAAEE,IAAI,CAACC,SAAS,CAACH,IAAI;EAC3B,CAAC,CAAC;AACJ;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO,eAAeI,GAAGA,CAACpB,QAAQ,EAAE;EAClC,OAAOD,OAAO,CAACC,QAAQ,EAAE;IACvBiB,MAAM,EAAE;EACV,CAAC,CAAC;AACJ;AAEA,eAAe;EACbF,IAAI;EACJK;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}